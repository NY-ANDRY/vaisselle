<head>
    <title th:text="${user.id != null ? 'Modifier un utilisateur' : 'Créer un utilisateur'}">User form</title>
</head>

<body>

    <div layout:fragment="content" class="p-6">

        <h2 class="text-2xl font-bold mb-4"
            th:text="${user.id != null ? 'Modifier un utilisateur' : 'Créer un utilisateur'}">User form</h2>

        <div class="card card-sm bg-base-100 shadow-sm w-72">
            <div class="card-body">

                <form th:action="@{${actionUrl}}" th:object="${user}" method="post" class="space-y-4"
                    enctype="multipart/form-data">

                    <input type="hidden" th:field="*{id}" />

                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">Nom</span>
                        </label>
                        <input type="text" th:field="*{name}" placeholder="Nom" class="input input-bordered w-full"
                            required />
                    </div>

                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">Photo</span>
                        </label>
                        <input type="file" name="photoFile" class="file-input file-input-bordered w-full" />
                        <p th:if="${user.id != null}" class="text-xs mt-1 text-base-content/60">Laissez vide pour
                            conserver l'image actuelle.</p>
                    </div>

                    <div class="form-control mt-4">
                        <button type="submit" class="btn btn-primary w-full">Enregistrer</button>
                    </div>

                </form>

            </div>
        </div>

        <div class="mt-4">
            <a th:href="@{/admin/users}">
                <button class="btn btn-sm btn-outline">Annuler</button>
            </a>
        </div>

    </div>